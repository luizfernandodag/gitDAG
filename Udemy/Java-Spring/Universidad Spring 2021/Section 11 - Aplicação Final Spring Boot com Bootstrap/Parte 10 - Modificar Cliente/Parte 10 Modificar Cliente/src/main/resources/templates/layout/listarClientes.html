<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html xlmns:th="http://www.thymeleaf.org"

      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:th="http://www.springframework.org/schema/data/jaxb" xmlns:xlmns="http://www.w3.org/1999/xhtml">
<head>
    <title>Lista de Clientes</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<section th:fragment="listarClientes" id="clientes">
    <div class="container">
        <div class="row">
            <div class="col-md-9">
                <div class="card">
                    <div class="card-header text-center">
                        <h4> [[#{pessoa.titulo.list}]]</h4>
                    </div>
                    <div th:if="${pessoas != null and !pessoas.empty}">
                        <table class="table table-stryped">
                            <thead class="thead-dark">
                                <tr>
                                    <th>#</th>
                                    <th th:text="#{pessoa.nome}">Nome</th>
                                    <th th:text="#{pessoa.saldo}">Saldo</th>
                                    <th ></th>

                                </tr>
                            </thead>
                            <tbody>
                                <tr th:each="pessoa, contador:${pessoas}" >
                                    <td>[[${contador.count}]]</td>
                                    <td>[[${pessoa.nome}]]</td>
                                    <td>[[${pessoa.saldo}]]</td>
                                    <td>

                                    <a  sec:authorize="hasRole('ADMIN')" th:href="@{/editar/} +${pessoa.id_pessoa}"  class="btn btn-secondary"  >
                                    <i class="fas fa-angle-double-right">[[#{acoes.editar}]]</i>
                                    </a>
                                    </td>


                                    <td>
                                        <a sec:authorize="hasRole('ADMIN')" th:href="@{/deletar/} +${pessoa.id_pessoa}"  class="btn btn-dark"  >
                                            <i class="fas fa-angle-double-right">[[#{acoes.deletar}]]</i>
                                        </a>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="text-center p-2" th:if="${pessoas==null or pessoas.empty}">
                            <span th:text="#{pessoa.lista.vazia}">Lista vazia</span>
                        </div>
                    </div>
                </div>

            </div>
            <div class="col-md-3">
                <div class="card text-center bg-danger text-white mb-3">
                    <div class="card-body">
                        <h3 th:text="#{pessoa.saldoTotal}">Saldo total</h3>
                        <h4>[[${saldoTotal}]]</h4>

                    </div>
                </div>
                <div class="card text-center  text-green mb-3">
                    <div class="card-body">
                        <h3 th:text="#{pessoa.totalClientes}">Total Clientes</h3>
                        <h4>[[${totalClientes}]]</h4>

                    </div>
                </div>
            </div>
        </div>
    </div>

</section>



</body>
</html>
